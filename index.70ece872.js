function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}var t=document.querySelector("table"),a=t.querySelectorAll("th"),r={};a.forEach(function(e,t){r[t]=!0}),t.addEventListener("click",function(a){if("TH"===a.target.tagName){var n,o,l,c,i=a.target,u=Array.from(i.parentNode.children).indexOf(i);n=u,o=r[u],(c=Array.from((l=t.querySelector("tbody")).rows)).sort(function(e,t){var a=e.cells[n].textContent.trim(),r=t.cells[n].textContent.trim();return(4===n&&(a=parseFloat(a.replace(/[$,]/g,"")),r=parseFloat(r.replace(/[$,]/g,""))),isNaN(a)||isNaN(r))?o?a.localeCompare(r):r.localeCompare(a):o?a-r:r-a}),l.append.apply(l,function(t){if(Array.isArray(t))return e(t)}(c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(t,a){if(t){if("string"==typeof t)return e(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,void 0)}}(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r[u]=!r[u]}}),t.addEventListener("click",function(e){if("TR"===e.target.tagName||"TD"===e.target.tagName){var a=e.target.closest("tr");Array.from(t.querySelectorAll("tbody tr")).forEach(function(e){e.classList.remove("active")}),a&&a.classList.add("active")}});var n=document.createElement("form"),o=document.createElement("button");o.textContent="Save to table",n.classList.add("new-employee-form");var l=[{label:"Name:",qa:"name",type:"text"},{label:"Position:",qa:"position",type:"text"},{label:"Office:",qa:"office",type:"select",options:["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"]},{label:"Age:",qa:"age",type:"number"},{label:"Salary:",qa:"salary",type:"number"}];function c(e,t){var a=document.querySelector("[data-qa='notification']");a&&a.remove();var r=document.createElement("div");r.setAttribute("data-qa","notification"),r.classList.add("notification",t),r.textContent=e,document.body.append(r),setTimeout(function(){r.remove()},5e3)}l.forEach(function(e){var t,a=document.createElement("label");a.textContent="".concat(e.label),"select"===e.type?((t=document.createElement("select")).setAttribute("data-qa",e.qa),e.options.forEach(function(e){var a=document.createElement("option");a.value=e,a.textContent=e,t.append(a)})):((t=document.createElement("input")).setAttribute("data-qa",e.qa),t.setAttribute("type",e.type)),a.append(t),n.append(a)}),n.append(o),document.body.append(n),o.addEventListener("click",function(e){e.preventDefault();var a=n.querySelector("[data-qa='name']"),r=n.querySelector("[data-qa='age']"),o=n.querySelector("[data-qa='position']"),i=n.querySelector("[data-qa='salary']"),u=!0;if(a.value.length<4&&(c("Error,name must be at least 4 letters long","error"),u=!1),(r.value<18||r.value>90)&&(c("Error,age must be more than 18 and less than 90","error"),u=!1),""===o.value&&(c("Error,position required!","error"),u=!1),""===i.value?(c("Error,salary required!","error"),u=!1):i.value<0&&c("Error,salary can`t be negative","error"),u){var d=document.createElement("tr");l.forEach(function(e){var t,a=document.createElement("td"),r=n.querySelector("[data-qa='".concat(e.qa,"']"));t="salary"===e.qa?"$".concat((+r.value).toLocaleString("en-US")):r.value,a.textContent=t,d.append(a)}),t.querySelector("tbody").append(d),n.reset(),c("Employee added successfully!","success")}}),document.querySelectorAll("td").forEach(function(e){e.addEventListener("dblclick",function(){var t=document.createElement("input");t.className="cell-input",t.value=e.textContent,t.defaultValue=e.textContent.trim(),e.textContent="",e.append(t),t.focus(),t.addEventListener("blur",function(){e.textContent=t.value||t.defaultValue,t.remove()}),t.addEventListener("keypress",function(a){"Enter"===a.key&&(e.textContent=t.value||t.defaultValue,t.remove())})})});
//# sourceMappingURL=index.70ece872.js.map
